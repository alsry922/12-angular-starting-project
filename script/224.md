### ë²ˆì—­

1. **Now of course things can also go wrong**  
   **when sending a request.**  
   ìš”ì²­ì„ ë³´ë‚¼ ë•Œ ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.

2. **For example, there might be no internet connection,**  
   **it temporarily went away.**  
   ì˜ˆë¥¼ ë“¤ì–´, ì¸í„°ë„· ì—°ê²°ì´ ì—†ê±°ë‚˜  
   ì¼ì‹œì ìœ¼ë¡œ ëŠì–´ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

3. **That's one possibility.**  
   ì´ëŠ” ê°€ëŠ¥ì„± ì¤‘ í•˜ë‚˜ì…ë‹ˆë‹¤.

4. **But there also might be something wrong with our backend**  
   **and an error might occur on that backend.**  
   í•˜ì§€ë§Œ ë°±ì—”ë“œì— ë¬¸ì œê°€ ìˆê±°ë‚˜  
   ë°±ì—”ë“œì—ì„œ ì˜¤ë¥˜ê°€ ë°œìƒí•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.

5. **And to simulate that,**  
   **I will actually return a different response here**  
   **after this delay.**  
   ì´ë¥¼ ì‹œë®¬ë ˆì´ì…˜í•˜ê¸° ìœ„í•´,  
   ì´ ì§€ì—° ì´í›„ ë‹¤ë¥¸ ì‘ë‹µì„ ë°˜í™˜í•˜ê² ìŠµë‹ˆë‹¤.

6. **Temporarily, I'll get rid of it later,**  
   **but for now I wanna return a response**  
   **that sets a status code of 500.**  
   ì´ëŠ” ì¼ì‹œì ì¸ ì„¤ì •ì´ë©° ë‚˜ì¤‘ì— ì œê±°í•˜ê² ì§€ë§Œ,  
   í˜„ì¬ëŠ” ìƒíƒœ ì½”ë“œ 500ì˜ ì‘ë‹µì„ ë°˜í™˜í•˜ê³ ì í•©ë‹ˆë‹¤.

7. **And that's how you can do this in Node and Express.**  
   Nodeì™€ Expressì—ì„œ ì´ë ‡ê²Œ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

8. **This creates a response with a status code of 500,**  
   **and I'll call the json method on that**  
   **to then really finalize that response,**  
   **so to say.**  
   ì´ëŠ” ìƒíƒœ ì½”ë“œ 500ì˜ ì‘ë‹µì„ ìƒì„±í•˜ê³ ,  
   `json` ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ì—¬  
   ì‘ë‹µì„ ì™„ì „íˆ ì™„ë£Œí•©ë‹ˆë‹¤.

9. **So now this route will no longer return the places,**  
   **but instead this error response,**  
   **and of course nobody would do that,**  
   **but for simulating the error use case, this is perfect.**  
   ì´ì œ ì´ ë¼ìš°íŠ¸ëŠ” ì¥ì†Œ ë°ì´í„°ë¥¼ ë°˜í™˜í•˜ì§€ ì•Šê³   
   ì˜¤ë¥˜ ì‘ë‹µì„ ë°˜í™˜í•©ë‹ˆë‹¤.  
   ë¬¼ë¡  ì‹¤ì œë¡œ ì´ë ‡ê²Œ í•˜ì§„ ì•Šê² ì§€ë§Œ,  
   ì˜¤ë¥˜ ìƒí™©ì„ ì‹œë®¬ë ˆì´ì…˜í•˜ëŠ” ë°ëŠ” ì í•©í•©ë‹ˆë‹¤.

10. **You now just have to go back to that terminal**  
    **where you started your backend development server**  
    **and quit it by pressing Ctrl C**  
    **and restart it**  
    **so that those code changes are picked up.**  
    ë°±ì—”ë“œ ê°œë°œ ì„œë²„ë¥¼ ì‹¤í–‰í–ˆë˜ í„°ë¯¸ë„ë¡œ ëŒì•„ê°€  
    `Ctrl + C`ë¥¼ ëˆŒëŸ¬ ì¢…ë£Œí•œ ë’¤,  
    ì„œë²„ë¥¼ ë‹¤ì‹œ ì‹œì‘í•˜ì—¬ ì½”ë“œ ë³€ê²½ ì‚¬í•­ì„ ì ìš©í•˜ì„¸ìš”.

11. **With that, if you now reload,**  
    **you'll see that we're fetching those places**  
    **and then they never arrive.**  
    ì´ì œ ìƒˆë¡œê³ ì¹¨í•˜ë©´  
    ì¥ì†Œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ì¤‘ì¸ë°  
    ë„ì°©í•˜ì§€ ì•ŠëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

12. **And we see an error here in the developer tools**  
    **that we got some HTTP related error.**  
    ê°œë°œì ë„êµ¬ì—ì„œ HTTP ê´€ë ¨ ì˜¤ë¥˜ê°€ ë°œìƒí•œ ê²ƒì„  
    í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

13. **Well, how can we now handle that in our component?**  
    ì´ì œ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì´ë¥¼ ì–´ë–»ê²Œ ì²˜ë¦¬í•  ìˆ˜ ìˆì„ê¹Œìš”?

14. **Well, for example, again, by adding an extra signal,**  
    **an error signal for example,**  
    **though the name of course is up to you.**  
    ì˜ˆë¥¼ ë“¤ì–´, ì¶”ê°€ì ìœ¼ë¡œ `error`ë¼ëŠ” Signalì„  
    ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  
    ë¬¼ë¡  ì´ë¦„ì€ ì›í•˜ëŠ” ëŒ€ë¡œ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

15. **And that could store a string value.**  
    **So the error message.**  
    ì´ Signalì€ ë¬¸ìì—´ ê°’ì„ ì €ì¥í•  ìˆ˜ ìˆìœ¼ë©°,  
    ì—¬ê¸°ì„œëŠ” ì˜¤ë¥˜ ë©”ì‹œì§€ë¥¼ ì €ì¥í•©ë‹ˆë‹¤.

16. **And initially that could be an empty string since initially**  
    **we don't have any error.**  
    ì´ˆê¸°ì—ëŠ” ì˜¤ë¥˜ê°€ ì—†ìœ¼ë¯€ë¡œ ë¹ˆ ë¬¸ìì—´ë¡œ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

17. **But then I wanna set this signal**  
    **to the error message if an error occurs here.**  
    í•˜ì§€ë§Œ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ë©´  
    ì´ Signalì„ í•´ë‹¹ ì˜¤ë¥˜ ë©”ì‹œì§€ë¡œ ì„¤ì •í•©ë‹ˆë‹¤.

18. **And for that, we can add that third**  
    **and last function to our observer object,**  
    **the error function, which will be triggered**  
    **whenever some error is thrown somewhere**  
    **in that observable chain.**  
    ì´ë¥¼ ìœ„í•´ Observer ê°ì²´ì—  
    ì„¸ ë²ˆì§¸ í•¨ìˆ˜ì¸ `error` í•¨ìˆ˜ë¥¼ ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  
    ì´ í•¨ìˆ˜ëŠ” Observable ì²´ì¸ì—ì„œ ì˜¤ë¥˜ê°€ ë°œìƒí•  ë•Œë§ˆë‹¤  
    íŠ¸ë¦¬ê±°ë©ë‹ˆë‹¤.

19. **And Angular will produce an error**  
    **if something goes wrong technically,**  
    **so if we have no internet connection for example,**  
    **or if we get an error response.**  
    AngularëŠ” ê¸°ìˆ ì ìœ¼ë¡œ ë¬¸ì œê°€ ë°œìƒí•  ê²½ìš°  
    ì˜¤ë¥˜ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.  
    ì˜ˆë¥¼ ë“¤ì–´, ì¸í„°ë„· ì—°ê²°ì´ ì—†ê±°ë‚˜  
    ì˜¤ë¥˜ ì‘ë‹µì„ ë°›ì„ ë•Œ ë°œìƒí•©ë‹ˆë‹¤.

20. **In both cases, Angular will produce an error value**  
    **and this function will get triggered**  
    **and it will receive that error information then.**  
    ë‘ ê²½ìš° ëª¨ë‘ AngularëŠ” ì˜¤ë¥˜ ê°’ì„ ìƒì„±í•˜ë©°,  
    ì´ í•¨ìˆ˜ê°€ íŠ¸ë¦¬ê±°ë˜ê³  í•´ë‹¹ ì˜¤ë¥˜ ì •ë³´ë¥¼ ë°›ê²Œ ë©ë‹ˆë‹¤.

21. **So in here, we could then use our error signal**  
    **and set it to that error we're getting here.**  
    ì—¬ê¸°ì„œ `error` Signalì„ ì‚¬ìš©í•˜ì—¬  
    ë°œìƒí•œ ì˜¤ë¥˜ë¥¼ í•´ë‹¹ Signalì— ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

22. **It's worth noting that TypeScript doesn't know what type**  
    **of value we'll get here though.**  
    ê·¸ëŸ¬ë‚˜ TypeScriptëŠ” ì´ê³³ì—ì„œ  
    ì–´ë–¤ ìœ í˜•ì˜ ê°’ì„ ë°›ì„ì§€ ì•Œì§€ ëª»í•©ë‹ˆë‹¤.

23. **Nonetheless, we can try setting it like this**  
    **and then we can of course go back**  
    **to the available places template and add another check here**  
    **and also update this first check**  
    **because now here we can check if we're fetching**  
    **and error is falsey.**  
    ê·¸ë˜ë„ ì´ë ‡ê²Œ ê°’ì„ ì„¤ì •í•  ìˆ˜ ìˆìœ¼ë©°,  
    ì´í›„ `available-places` í…œí”Œë¦¿ìœ¼ë¡œ ëŒì•„ê°€  
    ìƒˆ ì¡°ê±´ì„ ì¶”ê°€í•˜ê³ ,  
    ì²« ë²ˆì§¸ ì¡°ê±´ë„ ì—…ë°ì´íŠ¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  
    ì´ì œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ì¤‘ì¸ì§€ì™€  
    `error`ê°€ ë¹„ì–´ ìˆëŠ”ì§€ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

24. **So this error signal produces a falsey value.**  
    **In that case, I wanna show this loading text,**  
    **but otherwise if we're not fetching**  
    **or we have an error, I don't want to show that.**  
    `error` Signalì´ ë¹„ì–´ ìˆëŠ” ê°’ì„ ìƒì„±í•˜ë©´  
    ë¡œë”© í…ìŠ¤íŠ¸ë¥¼ í‘œì‹œí•˜ê³ ,  
    ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ì§€ ì•Šê±°ë‚˜ ì˜¤ë¥˜ê°€ ìˆìœ¼ë©´  
    ì´ë¥¼ í‘œì‹œí•˜ì§€ ì•Šë„ë¡ ì„¤ì •í•©ë‹ˆë‹¤.

25. **And instead we can add another if check here**  
    **and check if error produces a truthy value,**  
    **so if the error signal has a non empty string,**  
    **and in that case I want to output a paragraph with the class**  
    **fallback-text on it,**  
    **that will output that error message.**  
    ê·¸ë¦¬ê³  ë˜ ë‹¤ë¥¸ `if` ì¡°ê±´ì„ ì¶”ê°€í•˜ì—¬  
    `error`ê°€ ì°¸ ê°’ì„ ìƒì„±í•˜ëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.  
    ì¦‰, `error` Signalì´ ë¹„ì–´ ìˆì§€ ì•Šì€ ë¬¸ìì—´ì„  
    ê°€ì§€ê³  ìˆë‹¤ë©´,  
    `fallback-text` í´ë˜ìŠ¤ë¥¼ ê°€ì§„ ë‹¨ë½ì—  
    ì˜¤ë¥˜ ë©”ì‹œì§€ë¥¼ ì¶œë ¥í•˜ë„ë¡ ì„¤ì •í•©ë‹ˆë‹¤.

26. **So we can use string interpolation**  
    **to output the value stored in the error signal.**  
    ë¬¸ìì—´ ë³´ê°„ë²•ì„ ì‚¬ìš©í•˜ì—¬  
    `error` Signalì— ì €ì¥ëœ ê°’ì„ ì¶œë ¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

27. **And if you save that all and you reload, you'll see that**  
    **after a while you get this object Object thing here.**  
    ì´ë¥¼ ì €ì¥í•˜ê³  ìƒˆë¡œ ê³ ì¹¨í•˜ë©´,  
    ì ì‹œ í›„ ê°ì²´(Object) í˜•íƒœì˜ ë‚´ìš©ì´ ì¶œë ¥ë©ë‹ˆë‹¤.

28. **And we're getting this**  
    **because this error we're getting here**  
    **in this error function,**  
    **this argument here is actually not**  
    **an error message.**  
    ì´ëŠ” `error` í•¨ìˆ˜ì—ì„œ ë°›ì€ ì˜¤ë¥˜ê°€  
    ì‹¤ì œë¡œëŠ” ì˜¤ë¥˜ ë©”ì‹œì§€ê°€ ì•„ë‹ˆê¸° ë•Œë¬¸ì— ë°œìƒí•©ë‹ˆë‹¤.

29. **Instead it's an error object,**  
    **which however should contain a message property.**  
    ëŒ€ì‹  ì´ ê°’ì€ `message` ì†ì„±ì„ í¬í•¨í•˜ëŠ”  
    ì˜¤ë¥˜ ê°ì²´ì…ë‹ˆë‹¤.

30. **So we can try accessing it like this.**  
    ë”°ë¼ì„œ ì´ë¥¼ ë‹¤ìŒê³¼ ê°™ì´  
    ì ‘ê·¼í•´ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

31. **And with that, if we reload,**  
    **we can again try fetching those places and**  
    **after a while we get some message,**  
    **however, not really a user-friendly message.**  
    ì´ë ‡ê²Œ ì„¤ì •í•œ í›„ ìƒˆë¡œ ê³ ì¹¨í•˜ë©´,  
    ë‹¤ì‹œ ì¥ì†Œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ë ¤ê³  ì‹œë„í•  ìˆ˜ ìˆìœ¼ë©°,  
    ì ì‹œ í›„ ë©”ì‹œì§€ê°€ í‘œì‹œë©ë‹ˆë‹¤.  
    í•˜ì§€ë§Œ ì‚¬ìš©ì ì¹œí™”ì ì¸ ë©”ì‹œì§€ëŠ” ì•„ë‹™ë‹ˆë‹¤.

32. **So what we might wanna do instead is maybe log**  
    **that error for ourselves,**  
    **but show a more user-friendly message here.**  
    ë”°ë¼ì„œ ì˜¤ë¥˜ë¥¼ ë¡œê¹…í•˜ì—¬ í™•ì¸í•˜ë©´ì„œ  
    ì‚¬ìš©ìì—ê²ŒëŠ” ë” ì¹œí™”ì ì¸ ë©”ì‹œì§€ë¥¼  
    í‘œì‹œí•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.

33. **And we could of course do that**  
    **by simply console logging the error here.**  
    ì´ëŠ” ë‹¨ìˆœíˆ ì˜¤ë¥˜ë¥¼  
    ì½˜ì†”ì— ë¡œê¹…í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ  
    êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

34. **Or alternatively, we could try sending it**  
    **to some analytics server if we had any.**  
    ë˜ëŠ”, ë¶„ì„ ì„œë²„ê°€ ìˆë‹¤ë©´  
    í•´ë‹¹ ì„œë²„ë¡œ ì˜¤ë¥˜ë¥¼ ì „ì†¡í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.

35. **Here, I'll just log it**  
    **and then maybe output some hardcoded message like**  
    **"Something went wrong**  
    **fetching the available places.**  
    **Please try again later."**  
    ì—¬ê¸°ì„œëŠ” ì˜¤ë¥˜ë¥¼ ì½˜ì†”ì— ë¡œê¹…í•œ ë’¤,  
    "ì¥ì†Œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.  
    ë‚˜ì¤‘ì— ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”."ì™€ ê°™ì€  
    í•˜ë“œì½”ë”©ëœ ë©”ì‹œì§€ë¥¼ ì¶œë ¥í•˜ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.

36. **That is something we could do here.**  
    ì´ë¥¼ ì´ê³³ì—ì„œ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

37. **And if we save that**  
    **and we reload, we should see that**  
    **more user-friendly message here.**  
    ì´ë¥¼ ì €ì¥í•˜ê³  ìƒˆë¡œ ê³ ì¹¨í•˜ë©´,  
    ì‚¬ìš©ì ì¹œí™”ì ì¸ ë©”ì‹œì§€ê°€ í‘œì‹œë©ë‹ˆë‹¤.

38. **And we still log that error object here,**  
    **which now contains more details about the error.**  
    ë˜í•œ ì˜¤ë¥˜ ê°ì²´ê°€ ì—¬ì „íˆ ì½˜ì†”ì— ë¡œê¹…ë˜ë©°,  
    í•´ë‹¹ ê°ì²´ì—ëŠ” ì˜¤ë¥˜ì— ëŒ€í•œ ì„¸ë¶€ ì •ë³´ê°€ í¬í•¨ë©ë‹ˆë‹¤.

ì•„ì§ ë‚¨ì€ ë¶€ë¶„ì´ ìˆìŠµë‹ˆë‹¤. ê³„ì† ë²ˆì—­í•´ ë“œë¦¬ê² ìŠµë‹ˆë‹¤.

---

39. **But again, we could also use an operator here,**  
    **not because we have to,**  
    **but because we can, to keep these observer functions leaner.**  
    ê·¸ëŸ¬ë‚˜ ë°˜ë“œì‹œ í•„ìš”í•œ ê²ƒì€ ì•„ë‹ˆì§€ë§Œ,  
    ì˜µì €ë²„ í•¨ìˆ˜ë¥¼ ë” ê°„ê²°í•˜ê²Œ ìœ ì§€í•˜ê¸° ìœ„í•´  
    ì—°ì‚°ìë¥¼ ì‚¬ìš©í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.

40. **And therefore we can add a second argument**  
    **to this pipe method.**  
    ë”°ë¼ì„œ `pipe` ë©”ì„œë“œì— ë‘ ë²ˆì§¸ ì¸ìˆ˜ë¥¼ ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

41. **And after adding this map operator,**  
    **we can add the catchError operator,**  
    **which is another operator that's imported from RxJS.**  
    `map` ì—°ì‚°ìë¥¼ ì¶”ê°€í•œ í›„,  
    RxJSì—ì„œ ê°€ì ¸ì˜¨ ë˜ ë‹¤ë¥¸ ì—°ì‚°ìì¸  
    `catchError` ì—°ì‚°ìë¥¼ ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

42. **And catchError does**  
    **what its name implies.**  
    **It in the end is responsible**  
    **for handling errors,**  
    **and for potentially transforming errors.**  
    `catchError`ëŠ” ì´ë¦„ ê·¸ëŒ€ë¡œ ì˜¤ë¥˜ë¥¼ ì²˜ë¦¬í•˜ë©°,  
    ì˜¤ë¥˜ë¥¼ ë³€í™˜í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.

43. **For that, it takes a function just like map.**  
    ì´ë¥¼ ìœ„í•´ `map`ì²˜ëŸ¼ í•¨ìˆ˜ë¥¼ ë°›ìŠµë‹ˆë‹¤.

44. **And that function takes an argument, a parameter,**  
    **which in the end is that error that we got.**  
    í•´ë‹¹ í•¨ìˆ˜ëŠ” ì¸ìˆ˜ë¡œ ì˜¤ë¥˜ ê°ì²´ë¥¼ ë°›ìŠµë‹ˆë‹¤.

45. **It actually also takes a second argument,**  
    **which is that observable that emitted that error.**  
    ë˜í•œ ì˜¤ë¥˜ë¥¼ ë°œí–‰í•œ Observableì„  
    ë‘ ë²ˆì§¸ ì¸ìˆ˜ë¡œ ë°›ì„ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.

46. **But here I only care about the error.**  
    ê·¸ëŸ¬ë‚˜ ì—¬ê¸°ì„œëŠ” ì˜¤ë¥˜ì—ë§Œ ê´€ì‹¬ì´ ìˆìŠµë‹ˆë‹¤.

47. **And then catchError actually needs**  
    **to return a new observable.**  
    `catchError`ëŠ” ìƒˆ Observableì„ ë°˜í™˜í•´ì•¼ í•©ë‹ˆë‹¤.

48. **So unlike map, it should now not return some data**  
    **to which this error has been converted,**  
    **but instead it must return a new observable.**  
    ë”°ë¼ì„œ `map`ê³¼ëŠ” ë‹¬ë¦¬,  
    ë³€í™˜ëœ ë°ì´í„°ë¥¼ ë°˜í™˜í•˜ëŠ” ëŒ€ì‹   
    ìƒˆ Observableì„ ë°˜í™˜í•´ì•¼ í•©ë‹ˆë‹¤.

49. **And I'll generate a new observable here**  
    **by calling throwError,**  
    **which is another function**  
    **that must be imported from RxJS as well.**  
    ì—¬ê¸°ì„œ RxJSì—ì„œ ê°€ì ¸ì˜¨ `throwError`ë¥¼ í˜¸ì¶œí•˜ì—¬  
    ìƒˆ Observableì„ ìƒì„±í•˜ê² ìŠµë‹ˆë‹¤.

50. **But throwError is now not an operator**  
    **that you would add to pipe,**  
    **but instead like interval**  
    **before it's an operator,**  
    **a function that generates a new observable,**  
    **but it will generate an observable which will automatically**  
    **throw an error again, which is a behavior I want here**  
    **so that this error function of the observer gets triggered.**  
    `throwError`ëŠ” `pipe`ì— ì¶”ê°€í•˜ëŠ” ì—°ì‚°ìê°€ ì•„ë‹ˆë¼  
    `interval`ì²˜ëŸ¼ ìƒˆ Observableì„ ìƒì„±í•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤.  
    ì´ í•¨ìˆ˜ëŠ” ì˜¤ë¥˜ë¥¼ ìë™ìœ¼ë¡œ ë‹¤ì‹œ ë°œìƒì‹œí‚¤ëŠ”  
    Observableì„ ìƒì„±í•˜ë©°,  
    ì´ë¥¼ í†µí•´ Observerì˜ `error` í•¨ìˆ˜ê°€  
    íŠ¸ë¦¬ê±°ë˜ë„ë¡ í•©ë‹ˆë‹¤.

51. **But now we can configure that error**  
    **that will be thrown here.**  
    ì´ì œ ë°œìƒí•  ì˜¤ë¥˜ë¥¼ êµ¬ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

52. **And for that we need to pass another function**  
    **to throwError.**  
    ì´ë¥¼ ìœ„í•´ `throwError`ì—  
    ë˜ ë‹¤ë¥¸ í•¨ìˆ˜ë¥¼ ì „ë‹¬í•´ì•¼ í•©ë‹ˆë‹¤.

53. **So lots of nested functions here, I know,**  
    **but this function now should return an error object**  
    **or anything which you want to throw as an error.**  
    ì—¬ê¸°ì„œ ë§ì€ ì¤‘ì²© í•¨ìˆ˜ê°€ ì‚¬ìš©ë˜ì§€ë§Œ,  
    ì´ í•¨ìˆ˜ëŠ” ì˜¤ë¥˜ ê°ì²´ ë˜ëŠ”  
    ì˜¤ë¥˜ë¡œ ë˜ì§ˆ ë‚´ìš©ì„ ë°˜í™˜í•´ì•¼ í•©ë‹ˆë‹¤.

54. **But here I'll generate a new error object**  
    **using the built-in Error class,**  
    **the built-in error constructor**  
    **that's built into JavaScript.**  
    ì—¬ê¸°ì„œëŠ” JavaScriptì˜ ë‚´ì¥ `Error` í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì—¬  
    ìƒˆ ì˜¤ë¥˜ ê°ì²´ë¥¼ ìƒì„±í•˜ê² ìŠµë‹ˆë‹¤.

55. **And here you can pass an error message to this**  
    **so that you generate an error object which has this message**  
    **which you pass to the constructor attached to it.**  
    ìƒì„±ìì— ì˜¤ë¥˜ ë©”ì‹œì§€ë¥¼ ì „ë‹¬í•˜ë©´,  
    í•´ë‹¹ ë©”ì‹œì§€ê°€ í¬í•¨ëœ ì˜¤ë¥˜ ê°ì²´ë¥¼ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

56. **And I'll grab my message from down here**  
    **and use that here as a value forwarded to the error constructor.**  
    ì•„ë˜ì—ì„œ ë©”ì‹œì§€ë¥¼ ê°€ì ¸ì™€  
    ì˜¤ë¥˜ ìƒì„±ìì— ì „ë‹¬í•  ê°’ìœ¼ë¡œ ì‚¬ìš©í•˜ê² ìŠµë‹ˆë‹¤.

57. **And that's now how we can transform this error.**  
    ì´ê²ƒì´ ì˜¤ë¥˜ë¥¼ ë³€í™˜í•˜ëŠ” ë°©ë²•ì…ë‹ˆë‹¤.

58. **We can now still log that original error here**  
    **if we want to.**  
    í•„ìš”í•˜ë‹¤ë©´ ì›ë˜ ì˜¤ë¥˜ë¥¼  
    ì´ê³³ì—ì„œ ë¡œê·¸ë¡œ ì¶œë ¥í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.

59. **For that, we just need curly braces now,**  
    **since I now have multi-line code**  
    **and not just one statement, not just one expression here,**  
    **and we need to return the thrown error.**  
    ì´ì œ ì—¬ëŸ¬ ì¤„ì˜ ì½”ë“œë¥¼ ì‚¬ìš©í•˜ë¯€ë¡œ  
    ì¤‘ê´„í˜¸ë¥¼ ì¶”ê°€í•˜ê³ ,  
    ë˜ì§„ ì˜¤ë¥˜ë¥¼ ë°˜í™˜í•´ì•¼ í•©ë‹ˆë‹¤.

60. **But with that we transformed the error and logged it.**  
    ì´ë ‡ê²Œ í•˜ë©´ ì˜¤ë¥˜ë¥¼ ë³€í™˜í•˜ê³  ë¡œê·¸ë¡œ ì¶œë ¥í–ˆìŠµë‹ˆë‹¤.

61. **And down here in that error observer function,**  
    **we can now log error.message as before.**  
    ì•„ë˜ì˜ `error` Observer í•¨ìˆ˜ì—ì„œ  
    ì´ì „ì²˜ëŸ¼ `error.message`ë¥¼ ë¡œê·¸ë¡œ ì¶œë ¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

62. **We can also add a type annotation here**  
    **and make it clear that this will be of type error**  
    **so that it will be such an error object.**  
    ì—¬ê¸°ì— íƒ€ì… ì£¼ì„ì„ ì¶”ê°€í•˜ì—¬  
    ì´ ê°’ì´ `Error` íƒ€ì…ì˜ ê°ì²´ì„ì„ ëª…í™•íˆ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

63. **And since those objects have message properties,**  
    **we can safely access message here.**  
    ì´ëŸ¬í•œ ê°ì²´ì—ëŠ” `message` ì†ì„±ì´ ìˆìœ¼ë¯€ë¡œ  
    ì•ˆì „í•˜ê²Œ ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

64. **And again, just as with map, you don't need this operator.**  
    **It does make things more complex here,**  
    **but you will see it in some Angular projects.**  
    `map`ê³¼ ë§ˆì°¬ê°€ì§€ë¡œ, ì´ ì—°ì‚°ìëŠ” í•„ìˆ˜ê°€ ì•„ë‹™ë‹ˆë‹¤.  
    ë‹¤ì†Œ ë³µì¡í•´ì§ˆ ìˆ˜ ìˆì§€ë§Œ,  
    ëª‡ëª‡ Angular í”„ë¡œì íŠ¸ì—ì„œëŠ” ì´ë¥¼ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

65. **It can be useful**  
    **for getting your error transformation logic**  
    **out of the observer functions,**  
    **which you typically should try to keep clean and lean**  
    **and therefore I wanted to cover it here as well.**  
    Observer í•¨ìˆ˜ì—ì„œ ì˜¤ë¥˜ ë³€í™˜ ë¡œì§ì„ ë¶„ë¦¬í•˜ëŠ” ë°  
    ìœ ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  
    Observer í•¨ìˆ˜ëŠ” ì¼ë°˜ì ìœ¼ë¡œ ê°„ê²°í•˜ê³  ê¹”ë”í•˜ê²Œ  
    ìœ ì§€í•´ì•¼ í•˜ë¯€ë¡œ, ì´ë¥¼ ì„¤ëª…í•˜ê³ ì í–ˆìŠµë‹ˆë‹¤.

66. **With all that done, the behavior should be**  
    **the same as before.**  
    ì´ ëª¨ë“  ì‘ì—…ì´ ì™„ë£Œë˜ë©´  
    ë™ì‘ì€ ì´ì „ê³¼ ë™ì¼í•  ê²ƒì…ë‹ˆë‹¤.

67. **We see the loading fallback and then**  
    **after a while we see that human friendly error message**  
    **and we log the error object to the console.**  
    ë¡œë”© ì¤‘ ëŒ€ì²´ í…ìŠ¤íŠ¸ê°€ í‘œì‹œë˜ê³ ,  
    ì ì‹œ í›„ ì‚¬ìš©ì ì¹œí™”ì ì¸ ì˜¤ë¥˜ ë©”ì‹œì§€ê°€ í‘œì‹œë˜ë©°,  
    ì˜¤ë¥˜ ê°ì²´ê°€ ì½˜ì†”ì— ë¡œê·¸ë¡œ ì¶œë ¥ë©ë‹ˆë‹¤.

68. **And with that all done,**  
    **I'll get rid of that error in the backend code**  
    **and comment out this line since I of course only wanted**  
    **to show this error handling for demo purposes.**  
    ì´ì œ ë°±ì—”ë“œ ì½”ë“œì—ì„œ ì˜¤ë¥˜ë¥¼ ì œê±°í•˜ê³ ,  
    ë°ëª¨ ëª©ì ìœ¼ë¡œ ì¶”ê°€í–ˆë˜ ì¤„ì„ ì£¼ì„ ì²˜ë¦¬í•˜ê² ìŠµë‹ˆë‹¤.

69. **So with that commented out,**  
    **we should restart that backend server**  
    **so that the updated code is picked up.**  
    ì´ ì¤„ì„ ì£¼ì„ ì²˜ë¦¬í•œ ë’¤,  
    ë°±ì—”ë“œ ì„œë²„ë¥¼ ì¬ì‹œì‘í•˜ì—¬  
    ì—…ë°ì´íŠ¸ëœ ì½”ë“œê°€ ì ìš©ë˜ë„ë¡ í•´ì•¼ í•©ë‹ˆë‹¤.

70. **And with that, if you now reload,**  
    **you should see that the places are fetched**  
    **and displayed successfully again.**  
    ì´ì œ ìƒˆë¡œ ê³ ì¹¨í•˜ë©´ ì¥ì†Œ ë°ì´í„°ë¥¼ ì •ìƒì ìœ¼ë¡œ ê°€ì ¸ì™€  
    í™”ë©´ì— í‘œì‹œë˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

71. **And that's how you can handle error**  
    **and loading states in Angular**  
    **when working with HTTP requests.**  
    ì´ê²ƒì´ Angularì—ì„œ HTTP ìš”ì²­ì„ ì²˜ë¦¬í•  ë•Œ  
    ì˜¤ë¥˜ ë° ë¡œë”© ìƒíƒœë¥¼ ë‹¤ë£¨ëŠ” ë°©ë²•ì…ë‹ˆë‹¤.

---

### ë²ˆì—­ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤! ğŸ˜Š
ë‹¤ë¥¸ ìš”ì²­ì´ë‚˜ ì§ˆë¬¸ì´ ìˆë‹¤ë©´ ì–¸ì œë“  ë§ì”€í•´ ì£¼ì„¸ìš”!
